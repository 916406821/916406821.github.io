{"pageProps":{"post":{"title":"为字符串中指定位置的字符添加特殊处理","date":"2023-02-17T00:00:00.000Z","tags":["JavaScript"],"draft":false,"summary":"今天遇到一个关于JavaScript字符串的问题，我正好有尝试写博客的打算，所以就在此记录一下。","body":{"raw":"\n今天遇到一个关于JavaScript字符串的问题，我正好有尝试写博客的打算，所以就在此记录一下。\n\n**问题**\n\n给定一个字符串`text`，以及多个目标子字符串的起始位置数组`starts`和结束位置`ends`，为所有的目标子字符串添加css样式，并返回处理后的字符串。（子字符串互不重合）\n\n**思路**\n\n- 由于需要根据下标查询对应的子字符串，因此不能直接操作字符串，会导致下标混乱；\n- 将字符串转换成数组进行操作，将查询到的子字符串赋值给起始下标对应的数组位置，其余位置设为`''` ,最后使用`Array.join`方法返回字符串。\n\n**代码实现**\n\n```js\nconst text = 'hello world!';\nconst starts = [0, 6];\nconst ends = [4, 10];\nfunction replaceByIndexes(text, starts, ends) {\n  // 字符串转数组\n  const array = text.split('');\n  for (let i = 0; i < starts.length; i++) {\n    let string = '';\n    for (let j = starts[i]; j <= ends[i]; j++) {\n      string += array[j];\n      if (j !== starts[i]) {\n        array[j] = '';\n      }\n    }\n    string = `<strong>${string}</strong>`;\n    array[starts[i]] = string;\n    console.log(string);\n  }\n  return array.join('');\n}\nreplaceByIndexes(text, starts, ends);\n```\n\n以上就是本文的全部内容，感谢阅读。","code":"var Component=(()=>{var d=Object.create;var t=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var k=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),g=(a,n)=>{for(var s in n)t(a,s,{get:n[s],enumerable:!0})},o=(a,n,s,l)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of u(n))!N.call(a,c)&&c!==s&&t(a,c,{get:()=>n[c],enumerable:!(l=h(n,c))||l.enumerable});return a};var y=(a,n,s)=>(s=a!=null?d(m(a)):{},o(n||!a||!a.__esModule?t(s,\"default\",{value:a,enumerable:!0}):s,a)),f=a=>o(t({},\"__esModule\",{value:!0}),a);var r=k((v,i)=>{i.exports=_jsx_runtime});var b={};g(b,{default:()=>x,frontmatter:()=>w});var e=y(r()),w={title:\"\\u4E3A\\u5B57\\u7B26\\u4E32\\u4E2D\\u6307\\u5B9A\\u4F4D\\u7F6E\\u7684\\u5B57\\u7B26\\u6DFB\\u52A0\\u7279\\u6B8A\\u5904\\u7406\",date:\"2023-02-17\",tags:[\"JavaScript\"],draft:!1,summary:\"\\u4ECA\\u5929\\u9047\\u5230\\u4E00\\u4E2A\\u5173\\u4E8EJavaScript\\u5B57\\u7B26\\u4E32\\u7684\\u95EE\\u9898\\uFF0C\\u6211\\u6B63\\u597D\\u6709\\u5C1D\\u8BD5\\u5199\\u535A\\u5BA2\\u7684\\u6253\\u7B97\\uFF0C\\u6240\\u4EE5\\u5C31\\u5728\\u6B64\\u8BB0\\u5F55\\u4E00\\u4E0B\\u3002\"};function p(a){let n=Object.assign({p:\"p\",strong:\"strong\",code:\"code\",ul:\"ul\",li:\"li\",pre:\"pre\",span:\"span\"},a.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.p,{children:\"\\u4ECA\\u5929\\u9047\\u5230\\u4E00\\u4E2A\\u5173\\u4E8EJavaScript\\u5B57\\u7B26\\u4E32\\u7684\\u95EE\\u9898\\uFF0C\\u6211\\u6B63\\u597D\\u6709\\u5C1D\\u8BD5\\u5199\\u535A\\u5BA2\\u7684\\u6253\\u7B97\\uFF0C\\u6240\\u4EE5\\u5C31\\u5728\\u6B64\\u8BB0\\u5F55\\u4E00\\u4E0B\\u3002\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"\\u95EE\\u9898\"})}),(0,e.jsxs)(n.p,{children:[\"\\u7ED9\\u5B9A\\u4E00\\u4E2A\\u5B57\\u7B26\\u4E32\",(0,e.jsx)(n.code,{children:\"text\"}),\"\\uFF0C\\u4EE5\\u53CA\\u591A\\u4E2A\\u76EE\\u6807\\u5B50\\u5B57\\u7B26\\u4E32\\u7684\\u8D77\\u59CB\\u4F4D\\u7F6E\\u6570\\u7EC4\",(0,e.jsx)(n.code,{children:\"starts\"}),\"\\u548C\\u7ED3\\u675F\\u4F4D\\u7F6E\",(0,e.jsx)(n.code,{children:\"ends\"}),\"\\uFF0C\\u4E3A\\u6240\\u6709\\u7684\\u76EE\\u6807\\u5B50\\u5B57\\u7B26\\u4E32\\u6DFB\\u52A0css\\u6837\\u5F0F\\uFF0C\\u5E76\\u8FD4\\u56DE\\u5904\\u7406\\u540E\\u7684\\u5B57\\u7B26\\u4E32\\u3002\\uFF08\\u5B50\\u5B57\\u7B26\\u4E32\\u4E92\\u4E0D\\u91CD\\u5408\\uFF09\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"\\u601D\\u8DEF\"})}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"\\u7531\\u4E8E\\u9700\\u8981\\u6839\\u636E\\u4E0B\\u6807\\u67E5\\u8BE2\\u5BF9\\u5E94\\u7684\\u5B50\\u5B57\\u7B26\\u4E32\\uFF0C\\u56E0\\u6B64\\u4E0D\\u80FD\\u76F4\\u63A5\\u64CD\\u4F5C\\u5B57\\u7B26\\u4E32\\uFF0C\\u4F1A\\u5BFC\\u81F4\\u4E0B\\u6807\\u6DF7\\u4E71\\uFF1B\"}),(0,e.jsxs)(n.li,{children:[\"\\u5C06\\u5B57\\u7B26\\u4E32\\u8F6C\\u6362\\u6210\\u6570\\u7EC4\\u8FDB\\u884C\\u64CD\\u4F5C\\uFF0C\\u5C06\\u67E5\\u8BE2\\u5230\\u7684\\u5B50\\u5B57\\u7B26\\u4E32\\u8D4B\\u503C\\u7ED9\\u8D77\\u59CB\\u4E0B\\u6807\\u5BF9\\u5E94\\u7684\\u6570\\u7EC4\\u4F4D\\u7F6E\\uFF0C\\u5176\\u4F59\\u4F4D\\u7F6E\\u8BBE\\u4E3A\",(0,e.jsx)(n.code,{children:\"''\"}),\" ,\\u6700\\u540E\\u4F7F\\u7528\",(0,e.jsx)(n.code,{children:\"Array.join\"}),\"\\u65B9\\u6CD5\\u8FD4\\u56DE\\u5B57\\u7B26\\u4E32\\u3002\"]})]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"\\u4EE3\\u7801\\u5B9E\\u73B0\"})}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" text \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'hello world!'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" starts \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"6\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" ends \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"4\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"10\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"replaceByIndexes\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[\"text\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" starts\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" ends\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u5B57\\u7B26\\u4E32\\u8F6C\\u6570\\u7EC4\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" array \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" text\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"split\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"''\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"for\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" i \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" i \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\" starts\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"length\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" i\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"++\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" string \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"''\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"for\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" j \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" starts\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"i\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" j \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<=\"}),\" ends\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"i\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" j\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"++\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      string \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+=\"}),\" array\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"j\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"j \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!==\"}),\" starts\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"i\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        array\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"j\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"''\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    string \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"<strong>\"}),(0,e.jsxs)(n.span,{className:\"token interpolation\",children:[(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"string\",(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token string\",children:\"</strong>\"}),(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    array\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"starts\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"i\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" string\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token class-name console\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"string\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" array\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"join\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"''\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"replaceByIndexes\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"text\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" starts\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" ends\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\u4EE5\\u4E0A\\u5C31\\u662F\\u672C\\u6587\\u7684\\u5168\\u90E8\\u5185\\u5BB9\\uFF0C\\u611F\\u8C22\\u9605\\u8BFB\\u3002\"})]})}function j(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,Object.assign({},a,{children:(0,e.jsx)(p,a)})):p(a)}var x=j;return f(b);})();\n;return Component;"},"_id":"blog/String-addition-special-handling.mdx","_raw":{"sourceFilePath":"blog/String-addition-special-handling.mdx","sourceFileName":"String-addition-special-handling.mdx","sourceFileDir":"blog","contentType":"mdx","flattenedPath":"blog/String-addition-special-handling"},"type":"Blog","readingTime":{"text":"2 min read","minutes":1.485,"time":89100,"words":297},"slug":"String-addition-special-handling","path":"blog/String-addition-special-handling","filePath":"blog/String-addition-special-handling.mdx","toc":[]},"authorDetails":[{"name":"Shimiy","avatar":"/static/images/avatar.jpg","occupation":"前端工程师","company":"庐山烟雨浙江潮，未到千般恨不消。","email":"916406821@qq.com","github":"https://github.com/916406821","juejin":"https://juejin.cn/user/224777950737966","zhihu":"https://www.zhihu.com/people/wo-you-bu-te-bie","type":"Authors","readingTime":{"text":"1 min read","minutes":0.16,"time":9600,"words":32},"slug":"default","path":"authors/default","filePath":"authors/default.mdx","toc":[]}],"prev":null,"next":{"title":"根据已知坐标数组构造简单多边形","date":"2023-02-20T00:00:00.000Z","tags":["JavaScript","GIS"],"draft":false,"summary":"给定平面中n个点所组成的集合，将它们连接起来形成一条简单的封闭路径。","type":"Blog","readingTime":{"text":"2 min read","minutes":1.83,"time":109800,"words":366},"slug":"Construct-a-simple-polygon-from-a-known-array-of-coordinates","path":"blog/Construct-a-simple-polygon-from-a-known-array-of-coordinates","filePath":"blog/Construct-a-simple-polygon-from-a-known-array-of-coordinates.mdx","toc":[]}},"__N_SSG":true}