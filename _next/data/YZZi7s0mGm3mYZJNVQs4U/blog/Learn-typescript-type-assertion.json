{"pageProps":{"post":{"title":"TypeScript 的类型断言","date":"2024-01-11T00:00:00.000Z","tags":["TypeScript"],"draft":false,"summary":"学习TypeScript类型断言的使用技巧","images":["/static/icons/typescript.svg"],"body":{"raw":"\n> 学习教程：[TypeScript 的类型断言 - TypeScript 教程 - 网道](https://wangdoc.com/typescript/assert)\n\n### 简介\n\nTypeScript 提供了“类型断言”这样一种手段，允许开发者在代码中“断言”某个值的类型，告诉编译器此处的值是什么类型。TypeScript 一旦发现存在类型断言，就不再对该值进行类型推断，而是直接采用断言给出的类型。\n\n```ts\ntype T = 'a'|'b'|'c';\nlet foo = 'a';\n\nlet bar:T = foo; // 报错\n```\n\n上面示例中，最后一行报错，原因是 TypeScript 推断变量 `foo` 的类型是 `string` ，而变量 `bar` 的类型是 `'a'|'b'|'c'` ，前者是后者的父类型。父类型不能赋值给子类型，所以就报错了。\n\n解决方法就是进行类型断言，在赋值时断言变量 `foo` 的类型。\n\n```ts\ntype T = 'a'|'b'|'c';\n\nlet foo = 'a';\nlet bar:T = foo as T; // 正确\n```\n\n类型断言有两种语法。\n\n```ts\n// 语法一：<类型>值\n<Type>value\n\n// 语法二：值 as 类型\nvalue as Type\n```\n\n为了避免与React 的 JSX 语法（尖括号表示 HTML 元素）冲突，推荐使用语法二。\n\n### 类型断言的条件\n\n```ts\nconst n = 1;\nconst m:string = n as string; // 报错\n```\n\n上面示例中，变量 `n` 是数值，无法把它断言成字符串，TypeScript 会报错。\n\n```\nexpr as T\n```\n\n类型断言的使用前提是，值的实际类型 `expr` 与断言类型 `T` 必须满足一个条件： **`expr` 是 `T` 的子类型，或者 `T` 是 `expr` 的子类型**。\n\n通过连续进行两次类型断言，先断言成 `unknown` 类型或 `any` 类型，然后再断言为目标类型，可以断言成一个完全无关的类型。\n\n```ts\n// expr as unknown as T\n// 或者 <T><unknown>expr\nconst n = 1;\nconst m:string = n as unknown as string; // 正确\n```\n\n### as const 断言\n\n```ts\n// 后置形式\nexpr as const\n\n// 前置形式\n<const>expr\n```\n\n如果没有声明变量类型， `let` 命令声明的变量，会被类型推断为 TypeScript 内置的类型之一； `const` 命令声明的变量，则被推断为值类型常量。\n\n```ts\n// 类型推断为基本类型 string\nlet s1 = 'JavaScript';\n\n// 类型推断为字符串 “JavaScript”\nconst s2 = 'JavaScript';\n```\n\n相当于 `const` 命令有更强的限定作用，可以缩小变量的类型范围。\n\n```ts\nlet s = 'JavaScript';\n\ntype Lang =\n  |'JavaScript'\n  |'TypeScript'\n  |'Python';\n\nfunction setLang(language:Lang) {\n  /* ... */\n}\n\nsetLang(s); // 报错\n```\n\n函数 `setLang()` 的参数 `language` 类型是 `Lang`，变量s的类型被推断为 `string`，属于 `Lang` 的父类型。父类型不能替代子类型，导致报错。\n\n解决办法：\n\n```ts\n// 1.使用const定义变量\nconst s = 'JavaScript';\n\n// 2.使用as const\nlet s = 'JavaScript' as const;\nsetLang(s);  // 正确\n```\n\n> 注意，`as const`断言只能用于字面量，不能用于变量、表达式。\n\n```ts\nlet s1 = 'JavaScript';\nlet s2 = s1 as const; // 报错\n```\n\n数组字面量使用`as const`断言后，类型推断就变成了只读元组。\n\n```ts\n// a1 的类型推断为 number[]\nconst a1 = [1, 2, 3];\n\n// a2 的类型推断为 readonly [1, 2, 3]\nconst a2 = [1, 2, 3] as const;\n```\n\n### 非空断言\n\n对于那些可能为空的变量（即可能等于undefined或null），TypeScript 提供了非空断言，保证这些变量不会为空，写法是在变量名后面加上感叹号!。\n\n```ts\nfunction f(x?:number|null) {\n  validateNumber(x); // 自定义函数，确保 x 是数值\n  console.log(x!.toFixed());\n}\n\nfunction validateNumber(e?:number|null) {\n  if (typeof e !== 'number')\n    throw new Error('Not a number');\n}\n```\n\n非空断言在实际编程中很有用，有时可以省去一些额外的判断。\n\n### 断言函数\n\n断言函数是一种特殊函数，用于保证函数参数符合某种类型。如果函数参数达不到要求，就会抛出错误，中断程序执行；如果达到要求，就不进行任何操作，让代码按照正常流程运行。\n\n```ts\nfunction isString(value:unknown):asserts value is string {\n  if (typeof value !== 'string')\n    throw new Error('Not a string');\n}\n```\n\n`asserts`和`is`都是关键词，`value`是函数的参数名，`string`是函数参数的预期类型。它的意思是，该函数用来断言参数value的类型是string，如果达不到要求，程序就会在这里中断。\n\n如果要断言参数非空，可以使用工具类型`NonNullable<T>`。\n\n```ts\nfunction assertIsDefined<T>(\n  value:T\n):asserts value is NonNullable<T> {\n  if (value === undefined || value === null) {\n    throw new Error(`${value} is not defined`)\n  }\n}\n```\n\n工具类型`NonNullable<T>`对应类型T去除空类型后的剩余类型。","code":"var Component=(()=>{var p=Object.create;var l=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var u=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),g=(a,n)=>{for(var s in n)l(a,s,{get:n[s],enumerable:!0})},i=(a,n,s,o)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of m(n))!k.call(a,c)&&c!==s&&l(a,c,{get:()=>n[c],enumerable:!(o=h(n,c))||o.enumerable});return a};var y=(a,n,s)=>(s=a!=null?p(N(a)):{},i(n||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),w=a=>i(l({},\"__esModule\",{value:!0}),a);var r=u((S,t)=>{t.exports=_jsx_runtime});var x={};g(x,{default:()=>T,frontmatter:()=>b});var e=y(r()),b={title:\"TypeScript \\u7684\\u7C7B\\u578B\\u65AD\\u8A00\",date:\"2024-1-11\",tags:[\"TypeScript\"],images:[\"/static/icons/typescript.svg\"],draft:!1,summary:\"\\u5B66\\u4E60TypeScript\\u7C7B\\u578B\\u65AD\\u8A00\\u7684\\u4F7F\\u7528\\u6280\\u5DE7\"};function d(a){let n=Object.assign({blockquote:\"blockquote\",p:\"p\",a:\"a\",h3:\"h3\",span:\"span\",pre:\"pre\",code:\"code\",strong:\"strong\"},a.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.blockquote,{children:(0,e.jsxs)(n.p,{children:[\"\\u5B66\\u4E60\\u6559\\u7A0B\\uFF1A\",(0,e.jsx)(n.a,{href:\"https://wangdoc.com/typescript/assert\",children:\"TypeScript \\u7684\\u7C7B\\u578B\\u65AD\\u8A00 - TypeScript \\u6559\\u7A0B - \\u7F51\\u9053\"})]})}),(0,e.jsxs)(n.h3,{id:\"\\u7B80\\u4ECB\",children:[(0,e.jsx)(n.a,{href:\"#\\u7B80\\u4ECB\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u7B80\\u4ECB\"]}),(0,e.jsx)(n.p,{children:\"TypeScript \\u63D0\\u4F9B\\u4E86\\u201C\\u7C7B\\u578B\\u65AD\\u8A00\\u201D\\u8FD9\\u6837\\u4E00\\u79CD\\u624B\\u6BB5\\uFF0C\\u5141\\u8BB8\\u5F00\\u53D1\\u8005\\u5728\\u4EE3\\u7801\\u4E2D\\u201C\\u65AD\\u8A00\\u201D\\u67D0\\u4E2A\\u503C\\u7684\\u7C7B\\u578B\\uFF0C\\u544A\\u8BC9\\u7F16\\u8BD1\\u5668\\u6B64\\u5904\\u7684\\u503C\\u662F\\u4EC0\\u4E48\\u7C7B\\u578B\\u3002TypeScript \\u4E00\\u65E6\\u53D1\\u73B0\\u5B58\\u5728\\u7C7B\\u578B\\u65AD\\u8A00\\uFF0C\\u5C31\\u4E0D\\u518D\\u5BF9\\u8BE5\\u503C\\u8FDB\\u884C\\u7C7B\\u578B\\u63A8\\u65AD\\uFF0C\\u800C\\u662F\\u76F4\\u63A5\\u91C7\\u7528\\u65AD\\u8A00\\u7ED9\\u51FA\\u7684\\u7C7B\\u578B\\u3002\"}),(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"language-ts code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:(0,e.jsx)(n.span,{className:\"token constant\",children:\"T\"})}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'a'\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'b'\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'c'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" foo \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'a'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" bar\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"T\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" foo\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u62A5\\u9519\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\u4E0A\\u9762\\u793A\\u4F8B\\u4E2D\\uFF0C\\u6700\\u540E\\u4E00\\u884C\\u62A5\\u9519\\uFF0C\\u539F\\u56E0\\u662F TypeScript \\u63A8\\u65AD\\u53D8\\u91CF \",(0,e.jsx)(n.code,{children:\"foo\"}),\" \\u7684\\u7C7B\\u578B\\u662F \",(0,e.jsx)(n.code,{children:\"string\"}),\" \\uFF0C\\u800C\\u53D8\\u91CF \",(0,e.jsx)(n.code,{children:\"bar\"}),\" \\u7684\\u7C7B\\u578B\\u662F \",(0,e.jsx)(n.code,{children:\"'a'|'b'|'c'\"}),\" \\uFF0C\\u524D\\u8005\\u662F\\u540E\\u8005\\u7684\\u7236\\u7C7B\\u578B\\u3002\\u7236\\u7C7B\\u578B\\u4E0D\\u80FD\\u8D4B\\u503C\\u7ED9\\u5B50\\u7C7B\\u578B\\uFF0C\\u6240\\u4EE5\\u5C31\\u62A5\\u9519\\u4E86\\u3002\"]}),(0,e.jsxs)(n.p,{children:[\"\\u89E3\\u51B3\\u65B9\\u6CD5\\u5C31\\u662F\\u8FDB\\u884C\\u7C7B\\u578B\\u65AD\\u8A00\\uFF0C\\u5728\\u8D4B\\u503C\\u65F6\\u65AD\\u8A00\\u53D8\\u91CF \",(0,e.jsx)(n.code,{children:\"foo\"}),\" \\u7684\\u7C7B\\u578B\\u3002\"]}),(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"language-ts code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:(0,e.jsx)(n.span,{className:\"token constant\",children:\"T\"})}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'a'\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'b'\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'c'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" foo \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'a'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" bar\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"T\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" foo \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"as\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"T\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u6B63\\u786E\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\u7C7B\\u578B\\u65AD\\u8A00\\u6709\\u4E24\\u79CD\\u8BED\\u6CD5\\u3002\"}),(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"language-ts code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u8BED\\u6CD5\\u4E00\\uFF1A<\\u7C7B\\u578B>\\u503C\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"Type\",(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),`value\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u8BED\\u6CD5\\u4E8C\\uFF1A\\u503C as \\u7C7B\\u578B\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"value \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"as\"}),` Type\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\u4E3A\\u4E86\\u907F\\u514D\\u4E0EReact \\u7684 JSX \\u8BED\\u6CD5\\uFF08\\u5C16\\u62EC\\u53F7\\u8868\\u793A HTML \\u5143\\u7D20\\uFF09\\u51B2\\u7A81\\uFF0C\\u63A8\\u8350\\u4F7F\\u7528\\u8BED\\u6CD5\\u4E8C\\u3002\"}),(0,e.jsxs)(n.h3,{id:\"\\u7C7B\\u578B\\u65AD\\u8A00\\u7684\\u6761\\u4EF6\",children:[(0,e.jsx)(n.a,{href:\"#\\u7C7B\\u578B\\u65AD\\u8A00\\u7684\\u6761\\u4EF6\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u7C7B\\u578B\\u65AD\\u8A00\\u7684\\u6761\\u4EF6\"]}),(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"language-ts code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" n \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" m\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" n \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"as\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u62A5\\u9519\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\u4E0A\\u9762\\u793A\\u4F8B\\u4E2D\\uFF0C\\u53D8\\u91CF \",(0,e.jsx)(n.code,{children:\"n\"}),\" \\u662F\\u6570\\u503C\\uFF0C\\u65E0\\u6CD5\\u628A\\u5B83\\u65AD\\u8A00\\u6210\\u5B57\\u7B26\\u4E32\\uFF0CTypeScript \\u4F1A\\u62A5\\u9519\\u3002\"]}),(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"code-highlight\",children:(0,e.jsx)(n.span,{className:\"code-line\",children:`expr as T\n`})})}),(0,e.jsxs)(n.p,{children:[\"\\u7C7B\\u578B\\u65AD\\u8A00\\u7684\\u4F7F\\u7528\\u524D\\u63D0\\u662F\\uFF0C\\u503C\\u7684\\u5B9E\\u9645\\u7C7B\\u578B \",(0,e.jsx)(n.code,{children:\"expr\"}),\" \\u4E0E\\u65AD\\u8A00\\u7C7B\\u578B \",(0,e.jsx)(n.code,{children:\"T\"}),\" \\u5FC5\\u987B\\u6EE1\\u8DB3\\u4E00\\u4E2A\\u6761\\u4EF6\\uFF1A \",(0,e.jsxs)(n.strong,{children:[(0,e.jsx)(n.code,{children:\"expr\"}),\" \\u662F \",(0,e.jsx)(n.code,{children:\"T\"}),\" \\u7684\\u5B50\\u7C7B\\u578B\\uFF0C\\u6216\\u8005 \",(0,e.jsx)(n.code,{children:\"T\"}),\" \\u662F \",(0,e.jsx)(n.code,{children:\"expr\"}),\" \\u7684\\u5B50\\u7C7B\\u578B\"]}),\"\\u3002\"]}),(0,e.jsxs)(n.p,{children:[\"\\u901A\\u8FC7\\u8FDE\\u7EED\\u8FDB\\u884C\\u4E24\\u6B21\\u7C7B\\u578B\\u65AD\\u8A00\\uFF0C\\u5148\\u65AD\\u8A00\\u6210 \",(0,e.jsx)(n.code,{children:\"unknown\"}),\" \\u7C7B\\u578B\\u6216 \",(0,e.jsx)(n.code,{children:\"any\"}),\" \\u7C7B\\u578B\\uFF0C\\u7136\\u540E\\u518D\\u65AD\\u8A00\\u4E3A\\u76EE\\u6807\\u7C7B\\u578B\\uFF0C\\u53EF\\u4EE5\\u65AD\\u8A00\\u6210\\u4E00\\u4E2A\\u5B8C\\u5168\\u65E0\\u5173\\u7684\\u7C7B\\u578B\\u3002\"]}),(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"language-ts code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// expr as unknown as T\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u6216\\u8005 <T><unknown>expr\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" n \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" m\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" n \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"as\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"unknown\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"as\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u6B63\\u786E\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"as-const-\\u65AD\\u8A00\",children:[(0,e.jsx)(n.a,{href:\"#as-const-\\u65AD\\u8A00\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"as const \\u65AD\\u8A00\"]}),(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"language-ts code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u540E\\u7F6E\\u5F62\\u5F0F\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"expr \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"as\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u524D\\u7F6E\\u5F62\\u5F0F\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),`expr\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\u5982\\u679C\\u6CA1\\u6709\\u58F0\\u660E\\u53D8\\u91CF\\u7C7B\\u578B\\uFF0C \",(0,e.jsx)(n.code,{children:\"let\"}),\" \\u547D\\u4EE4\\u58F0\\u660E\\u7684\\u53D8\\u91CF\\uFF0C\\u4F1A\\u88AB\\u7C7B\\u578B\\u63A8\\u65AD\\u4E3A TypeScript \\u5185\\u7F6E\\u7684\\u7C7B\\u578B\\u4E4B\\u4E00\\uFF1B \",(0,e.jsx)(n.code,{children:\"const\"}),\" \\u547D\\u4EE4\\u58F0\\u660E\\u7684\\u53D8\\u91CF\\uFF0C\\u5219\\u88AB\\u63A8\\u65AD\\u4E3A\\u503C\\u7C7B\\u578B\\u5E38\\u91CF\\u3002\"]}),(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"language-ts code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u7C7B\\u578B\\u63A8\\u65AD\\u4E3A\\u57FA\\u672C\\u7C7B\\u578B string\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" s1 \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'JavaScript'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u7C7B\\u578B\\u63A8\\u65AD\\u4E3A\\u5B57\\u7B26\\u4E32 \\u201CJavaScript\\u201D\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" s2 \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'JavaScript'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\u76F8\\u5F53\\u4E8E \",(0,e.jsx)(n.code,{children:\"const\"}),\" \\u547D\\u4EE4\\u6709\\u66F4\\u5F3A\\u7684\\u9650\\u5B9A\\u4F5C\\u7528\\uFF0C\\u53EF\\u4EE5\\u7F29\\u5C0F\\u53D8\\u91CF\\u7684\\u7C7B\\u578B\\u8303\\u56F4\\u3002\"]}),(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"language-ts code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" s \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'JavaScript'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Lang\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'JavaScript'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'TypeScript'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'Python'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"setLang\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"language\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\"Lang\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"/* ... */\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"setLang\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"s\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u62A5\\u9519\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\u51FD\\u6570 \",(0,e.jsx)(n.code,{children:\"setLang()\"}),\" \\u7684\\u53C2\\u6570 \",(0,e.jsx)(n.code,{children:\"language\"}),\" \\u7C7B\\u578B\\u662F \",(0,e.jsx)(n.code,{children:\"Lang\"}),\"\\uFF0C\\u53D8\\u91CFs\\u7684\\u7C7B\\u578B\\u88AB\\u63A8\\u65AD\\u4E3A \",(0,e.jsx)(n.code,{children:\"string\"}),\"\\uFF0C\\u5C5E\\u4E8E \",(0,e.jsx)(n.code,{children:\"Lang\"}),\" \\u7684\\u7236\\u7C7B\\u578B\\u3002\\u7236\\u7C7B\\u578B\\u4E0D\\u80FD\\u66FF\\u4EE3\\u5B50\\u7C7B\\u578B\\uFF0C\\u5BFC\\u81F4\\u62A5\\u9519\\u3002\"]}),(0,e.jsx)(n.p,{children:\"\\u89E3\\u51B3\\u529E\\u6CD5\\uFF1A\"}),(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"language-ts code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// 1.\\u4F7F\\u7528const\\u5B9A\\u4E49\\u53D8\\u91CF\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" s \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'JavaScript'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// 2.\\u4F7F\\u7528as const\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" s \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'JavaScript'\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"as\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"setLang\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"s\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u6B63\\u786E\"}),`\n`]})]})}),(0,e.jsx)(n.blockquote,{children:(0,e.jsxs)(n.p,{children:[\"\\u6CE8\\u610F\\uFF0C\",(0,e.jsx)(n.code,{children:\"as const\"}),\"\\u65AD\\u8A00\\u53EA\\u80FD\\u7528\\u4E8E\\u5B57\\u9762\\u91CF\\uFF0C\\u4E0D\\u80FD\\u7528\\u4E8E\\u53D8\\u91CF\\u3001\\u8868\\u8FBE\\u5F0F\\u3002\"]})}),(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"language-ts code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" s1 \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'JavaScript'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" s2 \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" s1 \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"as\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u62A5\\u9519\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\u6570\\u7EC4\\u5B57\\u9762\\u91CF\\u4F7F\\u7528\",(0,e.jsx)(n.code,{children:\"as const\"}),\"\\u65AD\\u8A00\\u540E\\uFF0C\\u7C7B\\u578B\\u63A8\\u65AD\\u5C31\\u53D8\\u6210\\u4E86\\u53EA\\u8BFB\\u5143\\u7EC4\\u3002\"]}),(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"language-ts code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// a1 \\u7684\\u7C7B\\u578B\\u63A8\\u65AD\\u4E3A number[]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" a1 \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// a2 \\u7684\\u7C7B\\u578B\\u63A8\\u65AD\\u4E3A readonly [1, 2, 3]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" a2 \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"as\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"\\u975E\\u7A7A\\u65AD\\u8A00\",children:[(0,e.jsx)(n.a,{href:\"#\\u975E\\u7A7A\\u65AD\\u8A00\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u975E\\u7A7A\\u65AD\\u8A00\"]}),(0,e.jsx)(n.p,{children:\"\\u5BF9\\u4E8E\\u90A3\\u4E9B\\u53EF\\u80FD\\u4E3A\\u7A7A\\u7684\\u53D8\\u91CF\\uFF08\\u5373\\u53EF\\u80FD\\u7B49\\u4E8Eundefined\\u6216null\\uFF09\\uFF0CTypeScript \\u63D0\\u4F9B\\u4E86\\u975E\\u7A7A\\u65AD\\u8A00\\uFF0C\\u4FDD\\u8BC1\\u8FD9\\u4E9B\\u53D8\\u91CF\\u4E0D\\u4F1A\\u4E3A\\u7A7A\\uFF0C\\u5199\\u6CD5\\u662F\\u5728\\u53D8\\u91CF\\u540D\\u540E\\u9762\\u52A0\\u4E0A\\u611F\\u53F9\\u53F7!\\u3002\"}),(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"language-ts code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"f\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"x\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"number\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"null\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function\",children:\"validateNumber\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"x\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u81EA\\u5B9A\\u4E49\\u51FD\\u6570\\uFF0C\\u786E\\u4FDD x \\u662F\\u6570\\u503C\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"x\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"toFixed\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"validateNumber\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"e\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"number\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"null\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"typeof\"}),\" e \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!==\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'number'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"throw\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Error\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'Not a number'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\u975E\\u7A7A\\u65AD\\u8A00\\u5728\\u5B9E\\u9645\\u7F16\\u7A0B\\u4E2D\\u5F88\\u6709\\u7528\\uFF0C\\u6709\\u65F6\\u53EF\\u4EE5\\u7701\\u53BB\\u4E00\\u4E9B\\u989D\\u5916\\u7684\\u5224\\u65AD\\u3002\"}),(0,e.jsxs)(n.h3,{id:\"\\u65AD\\u8A00\\u51FD\\u6570\",children:[(0,e.jsx)(n.a,{href:\"#\\u65AD\\u8A00\\u51FD\\u6570\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u65AD\\u8A00\\u51FD\\u6570\"]}),(0,e.jsx)(n.p,{children:\"\\u65AD\\u8A00\\u51FD\\u6570\\u662F\\u4E00\\u79CD\\u7279\\u6B8A\\u51FD\\u6570\\uFF0C\\u7528\\u4E8E\\u4FDD\\u8BC1\\u51FD\\u6570\\u53C2\\u6570\\u7B26\\u5408\\u67D0\\u79CD\\u7C7B\\u578B\\u3002\\u5982\\u679C\\u51FD\\u6570\\u53C2\\u6570\\u8FBE\\u4E0D\\u5230\\u8981\\u6C42\\uFF0C\\u5C31\\u4F1A\\u629B\\u51FA\\u9519\\u8BEF\\uFF0C\\u4E2D\\u65AD\\u7A0B\\u5E8F\\u6267\\u884C\\uFF1B\\u5982\\u679C\\u8FBE\\u5230\\u8981\\u6C42\\uFF0C\\u5C31\\u4E0D\\u8FDB\\u884C\\u4EFB\\u4F55\\u64CD\\u4F5C\\uFF0C\\u8BA9\\u4EE3\\u7801\\u6309\\u7167\\u6B63\\u5E38\\u6D41\\u7A0B\\u8FD0\\u884C\\u3002\"}),(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"language-ts code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"isString\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"value\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"unknown\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"asserts\"}),\" value \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"is\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"typeof\"}),\" value \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!==\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'string'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"throw\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Error\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'Not a string'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"asserts\"}),\"\\u548C\",(0,e.jsx)(n.code,{children:\"is\"}),\"\\u90FD\\u662F\\u5173\\u952E\\u8BCD\\uFF0C\",(0,e.jsx)(n.code,{children:\"value\"}),\"\\u662F\\u51FD\\u6570\\u7684\\u53C2\\u6570\\u540D\\uFF0C\",(0,e.jsx)(n.code,{children:\"string\"}),\"\\u662F\\u51FD\\u6570\\u53C2\\u6570\\u7684\\u9884\\u671F\\u7C7B\\u578B\\u3002\\u5B83\\u7684\\u610F\\u601D\\u662F\\uFF0C\\u8BE5\\u51FD\\u6570\\u7528\\u6765\\u65AD\\u8A00\\u53C2\\u6570value\\u7684\\u7C7B\\u578B\\u662Fstring\\uFF0C\\u5982\\u679C\\u8FBE\\u4E0D\\u5230\\u8981\\u6C42\\uFF0C\\u7A0B\\u5E8F\\u5C31\\u4F1A\\u5728\\u8FD9\\u91CC\\u4E2D\\u65AD\\u3002\"]}),(0,e.jsxs)(n.p,{children:[\"\\u5982\\u679C\\u8981\\u65AD\\u8A00\\u53C2\\u6570\\u975E\\u7A7A\\uFF0C\\u53EF\\u4EE5\\u4F7F\\u7528\\u5DE5\\u5177\\u7C7B\\u578B\",(0,e.jsx)(n.code,{children:\"NonNullable<T>\"}),\"\\u3002\"]}),(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"language-ts code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsxs)(n.span,{className:\"token generic-function\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"assertIsDefined\"}),(0,e.jsxs)(n.span,{className:\"token class-name generic\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"T\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"})]})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  value\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"T\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"asserts\"}),\" value \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"is\"}),\" NonNullable\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"T\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"value \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"===\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"undefined\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"||\"}),\" value \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"===\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"null\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"throw\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Error\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,e.jsxs)(n.span,{className:\"token interpolation\",children:[(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"value\",(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token string\",children:\" is not defined\"}),(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\u5DE5\\u5177\\u7C7B\\u578B\",(0,e.jsx)(n.code,{children:\"NonNullable<T>\"}),\"\\u5BF9\\u5E94\\u7C7B\\u578BT\\u53BB\\u9664\\u7A7A\\u7C7B\\u578B\\u540E\\u7684\\u5269\\u4F59\\u7C7B\\u578B\\u3002\"]})]})}function f(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,Object.assign({},a,{children:(0,e.jsx)(d,a)})):d(a)}var T=f;return w(x);})();\n;return Component;"},"_id":"blog/Learn-typescript-type-assertion.mdx","_raw":{"sourceFilePath":"blog/Learn-typescript-type-assertion.mdx","sourceFileName":"Learn-typescript-type-assertion.mdx","sourceFileDir":"blog","contentType":"mdx","flattenedPath":"blog/Learn-typescript-type-assertion"},"type":"Blog","readingTime":{"text":"6 min read","minutes":5.575,"time":334500,"words":1115},"slug":"Learn-typescript-type-assertion","path":"blog/Learn-typescript-type-assertion","filePath":"blog/Learn-typescript-type-assertion.mdx","toc":[{"value":"简介","url":"#简介","depth":3},{"value":"类型断言的条件","url":"#类型断言的条件","depth":3},{"value":"as const 断言","url":"#as-const-断言","depth":3},{"value":"非空断言","url":"#非空断言","depth":3},{"value":"断言函数","url":"#断言函数","depth":3}]},"authorDetails":[{"name":"Shimiy","avatar":"/static/images/avatar.jpg","occupation":"前端工程师","company":"庐山烟雨浙江潮，未到千般恨不消。","email":"916406821@qq.com","github":"https://github.com/SHIMIYzhang","juejin":"https://juejin.cn/user/224777950737966","zhihu":"https://www.zhihu.com/people/wo-you-bu-te-bie","type":"Authors","readingTime":{"text":"1 min read","minutes":0.31,"time":18600,"words":62},"slug":"default","path":"authors/default","filePath":"authors/default.mdx","toc":[]}],"prev":{"title":"React + Openlayers 开发记录","date":"2023-11-15T00:00:00.000Z","tags":["react","openlayers"],"draft":false,"summary":"记录使用 React + Openlayers 开发项目中需要记录的细节和遇到的问题。","images":["/static/icons/react_ol.svg"],"type":"Blog","readingTime":{"text":"4 min read","minutes":3.905,"time":234300,"words":781},"slug":"React-OpenLayers-development-record","path":"blog/React-OpenLayers-development-record","filePath":"blog/React-OpenLayers-development-record.mdx","toc":[{"value":"禁止地图点击缩放和拖动平移交互","url":"#禁止地图点击缩放和拖动平移交互","depth":3},{"value":"图形的平移、旋转、缩放交互","url":"#图形的平移旋转缩放交互","depth":3},{"value":"撤销/重做交互","url":"#撤销重做交互","depth":3}]},"next":null},"__N_SSG":true}