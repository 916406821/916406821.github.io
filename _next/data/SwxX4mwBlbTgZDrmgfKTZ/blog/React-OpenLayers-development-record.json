{"pageProps":{"post":{"title":"React + Openlayers 开发记录","date":"2023-11-15T00:00:00.000Z","tags":["react","openlayers"],"draft":false,"summary":"记录使用 React + Openlayers 开发项目中需要记录的细节和遇到的问题。","images":["/static/icons/react_ol.svg"],"body":{"raw":"\n<OlMapDemo />\n\n### 禁止地图点击缩放和拖动平移交互\n\nOpenlayers 创建的地图默认支持`点击缩放`、`拖动平移`等交互，如果有禁止用户交互的需求，可以通过配置 `Map` 的 `interactions` 参数以禁止相应交互。\n\n```js\nnew Map({\n  view: new View({\n    center: [0, 0],\n    zoom: 2,\n  }),\n  layers: [\n    new TileLayer({\n      source: new OSM(),\n    }),\n  ],\n  target: 'map-container',\n  interactions: defaultInteractions({\n    altShiftDragRotate: false, // 是否需要按住 Alt-Shift 键并拖动旋转\n    doubleClickZoom: false, // 是否需要双击缩放\n    mouseWheelZoom: false, // 是否需要鼠标滚轮缩放\n    shiftDragZoom: false, // 是否需要按住 Shift 键拖动缩放\n    dragPan: false, // 是否需要拖动平移\n  }),\n  controls: defaultControls({\n    zoom: false,\n    rotate: false,\n    attribution: false,\n  }),\n})\n```\n\n### 图形的平移、旋转、缩放交互\n\n[ol-ext](http://viglino.github.io/ol-ext/) 是一组用于 Openlayers 的扩展、控件和交互。\n\n可以使用 `ol.interaction.Transform` 类轻松实现对图形的平移、旋转、缩放等操作。\n\n当鼠标指针悬停在图形上时，单击鼠标左键即可选中图形，此时会显示控制点，方便用户对要素进行操作。\n\n```js\nimport ExtTransform from 'ol-ext/interaction/Transform'\n\nconst extTransform = new ExtTransform({\n  enableRotatedTransform: false, // 地图旋转时启用变换\n  hitTolerance: 2, // 偏移量\n  scale: true, // 缩放\n  rotate: true, // 旋转\n  stretch: true, // 拉伸\n  translate: true, // 拖拽\n  keepAspectRatio: shiftKeyOnly, // 按住shift保持同比例缩放\n  keepRectangle: false, // 尽可能保留矩形\n  translateBBox: true, // 在边界框内拖动即可移动\n  translateFeature: true, // 点击feature即可移动\n  addCondition: shiftKeyOnly, // 按住shift多选要素\n  noFlip: false, // 防止特征几何翻转，默认为false\n  layers: [drawLayer], // 指定可以拖拽的图层\n  pointRadius: 0, // 设置选中样式的显示范围\n})\n\nmap.addInteraction(extTransform) // 添加到地图\n```\n\n### 撤销/重做交互\n\n`ol.interaction.UndoRedo` 类是 ol-ext 中用于处理地图上撤消和重做操作的交互类。它可以与地图中的矢量源和交互一起工作，使用户能够撤消和重做地图上的操作。\n\n以下是与该类相关的一些常用方法和事件：\n\n常用方法：\n\n- undo() 方法用于执行上次记录的操作。\n\n- redo() 方法用于重做上一次被撤消的操作。\n\n- shift() 方法允许您从撤消堆栈中删除操作。\n\n- getStack() 方法可获取堆栈中当前撤消操作的列表。\n\n监听事件：\n\n- event:undo：当执行撤消操作时触发此事件。\n\n- event:redo：当执行重做操作时触发此事件。\n\n- change:add：当向撤消堆栈中添加新操作时触发此事件。\n\n- change:remove：当从撤消堆栈中移除操作时触发此事件。\n\n- change:clear：当清空整个撤消堆栈时触发此事件。\n\n这些事件和方法提供了对撤消和重做操作的完整控制。你可以监听这些事件，以便在用户执行操作时采取相应的行动，也可以使用方法来执行撤消和重做的操作。\n\n```js\nimport ExtUndoRedo from 'ol-ext/interaction/UndoRedo'\n\n// 撤销/重做交互\nconst extUndoRedo = new ExtUndoRedo()\n\nextUndoRedo.on('undo', (event) => {\n  console.log('undo', event)\n})\nextUndoRedo.on('redo', (event) => {\n  console.log('redo', event)\n})\nextUndoRedo.on('stack:add', (event) => {\n  console.log('stack:add', event)\n})\nextUndoRedo.on('stack:remove', (event) => {\n  console.log('stack:remove', event)\n})\nextUndoRedo.on('stack:clear', (event) => {\n  console.log('stack:clear', event)\n})\n\nextUndoRedo.undo()\nextUndoRedo.redo()\nextUndoRedo.shift()\nextUndoRedo.getStack()\n\nmap.addInteraction(extUndoRedo) // 添加到地图\n```\n","code":"var Component=(()=>{var d=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var k=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),y=(a,n)=>{for(var s in n)l(a,s,{get:n[s],enumerable:!0})},o=(a,n,s,t)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of h(n))!u.call(a,c)&&c!==s&&l(a,c,{get:()=>n[c],enumerable:!(t=m(n,c))||t.enumerable});return a};var f=(a,n,s)=>(s=a!=null?d(N(a)):{},o(n||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),g=a=>o(l({},\"__esModule\",{value:!0}),a);var i=k((j,r)=>{r.exports=_jsx_runtime});var v={};y(v,{default:()=>w,frontmatter:()=>x});var e=f(i()),x={title:\"React + Openlayers \\u5F00\\u53D1\\u8BB0\\u5F55\",date:\"2023-11-15\",tags:[\"react\",\"openlayers\"],images:[\"/static/icons/react_ol.svg\"],draft:!1,summary:\"\\u8BB0\\u5F55\\u4F7F\\u7528 React + Openlayers \\u5F00\\u53D1\\u9879\\u76EE\\u4E2D\\u9700\\u8981\\u8BB0\\u5F55\\u7684\\u7EC6\\u8282\\u548C\\u9047\\u5230\\u7684\\u95EE\\u9898\\u3002\"};function p(a){let n=Object.assign({h3:\"h3\",a:\"a\",span:\"span\",p:\"p\",code:\"code\",pre:\"pre\",ul:\"ul\",li:\"li\"},a.components),{OlMapDemo:s}=n;return s||R(\"OlMapDemo\",!0),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(s,{}),(0,e.jsxs)(n.h3,{id:\"\\u7981\\u6B62\\u5730\\u56FE\\u70B9\\u51FB\\u7F29\\u653E\\u548C\\u62D6\\u52A8\\u5E73\\u79FB\\u4EA4\\u4E92\",children:[(0,e.jsx)(n.a,{href:\"#\\u7981\\u6B62\\u5730\\u56FE\\u70B9\\u51FB\\u7F29\\u653E\\u548C\\u62D6\\u52A8\\u5E73\\u79FB\\u4EA4\\u4E92\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u7981\\u6B62\\u5730\\u56FE\\u70B9\\u51FB\\u7F29\\u653E\\u548C\\u62D6\\u52A8\\u5E73\\u79FB\\u4EA4\\u4E92\"]}),(0,e.jsxs)(n.p,{children:[\"Openlayers \\u521B\\u5EFA\\u7684\\u5730\\u56FE\\u9ED8\\u8BA4\\u652F\\u6301\",(0,e.jsx)(n.code,{children:\"\\u70B9\\u51FB\\u7F29\\u653E\"}),\"\\u3001\",(0,e.jsx)(n.code,{children:\"\\u62D6\\u52A8\\u5E73\\u79FB\"}),\"\\u7B49\\u4EA4\\u4E92\\uFF0C\\u5982\\u679C\\u6709\\u7981\\u6B62\\u7528\\u6237\\u4EA4\\u4E92\\u7684\\u9700\\u6C42\\uFF0C\\u53EF\\u4EE5\\u901A\\u8FC7\\u914D\\u7F6E \",(0,e.jsx)(n.code,{children:\"Map\"}),\" \\u7684 \",(0,e.jsx)(n.code,{children:\"interactions\"}),\" \\u53C2\\u6570\\u4EE5\\u7981\\u6B62\\u76F8\\u5E94\\u4EA4\\u4E92\\u3002\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Map\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"view\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"View\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"center\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"zoom\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"layers\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"TileLayer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"source\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"OSM\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"target\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'map-container'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"interactions\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"defaultInteractions\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"altShiftDragRotate\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u662F\\u5426\\u9700\\u8981\\u6309\\u4F4F Alt-Shift \\u952E\\u5E76\\u62D6\\u52A8\\u65CB\\u8F6C\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"doubleClickZoom\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u662F\\u5426\\u9700\\u8981\\u53CC\\u51FB\\u7F29\\u653E\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"mouseWheelZoom\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u662F\\u5426\\u9700\\u8981\\u9F20\\u6807\\u6EDA\\u8F6E\\u7F29\\u653E\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"shiftDragZoom\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u662F\\u5426\\u9700\\u8981\\u6309\\u4F4F Shift \\u952E\\u62D6\\u52A8\\u7F29\\u653E\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"dragPan\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u662F\\u5426\\u9700\\u8981\\u62D6\\u52A8\\u5E73\\u79FB\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"controls\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"defaultControls\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"zoom\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"rotate\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"attribution\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"\\u56FE\\u5F62\\u7684\\u5E73\\u79FB\\u65CB\\u8F6C\\u7F29\\u653E\\u4EA4\\u4E92\",children:[(0,e.jsx)(n.a,{href:\"#\\u56FE\\u5F62\\u7684\\u5E73\\u79FB\\u65CB\\u8F6C\\u7F29\\u653E\\u4EA4\\u4E92\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u56FE\\u5F62\\u7684\\u5E73\\u79FB\\u3001\\u65CB\\u8F6C\\u3001\\u7F29\\u653E\\u4EA4\\u4E92\"]}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.a,{href:\"http://viglino.github.io/ol-ext/\",children:\"ol-ext\"}),\" \\u662F\\u4E00\\u7EC4\\u7528\\u4E8E Openlayers \\u7684\\u6269\\u5C55\\u3001\\u63A7\\u4EF6\\u548C\\u4EA4\\u4E92\\u3002\"]}),(0,e.jsxs)(n.p,{children:[\"\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,e.jsx)(n.code,{children:\"ol.interaction.Transform\"}),\" \\u7C7B\\u8F7B\\u677E\\u5B9E\\u73B0\\u5BF9\\u56FE\\u5F62\\u7684\\u5E73\\u79FB\\u3001\\u65CB\\u8F6C\\u3001\\u7F29\\u653E\\u7B49\\u64CD\\u4F5C\\u3002\"]}),(0,e.jsx)(n.p,{children:\"\\u5F53\\u9F20\\u6807\\u6307\\u9488\\u60AC\\u505C\\u5728\\u56FE\\u5F62\\u4E0A\\u65F6\\uFF0C\\u5355\\u51FB\\u9F20\\u6807\\u5DE6\\u952E\\u5373\\u53EF\\u9009\\u4E2D\\u56FE\\u5F62\\uFF0C\\u6B64\\u65F6\\u4F1A\\u663E\\u793A\\u63A7\\u5236\\u70B9\\uFF0C\\u65B9\\u4FBF\\u7528\\u6237\\u5BF9\\u8981\\u7D20\\u8FDB\\u884C\\u64CD\\u4F5C\\u3002\"}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token imports\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ExtTransform\"})}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'ol-ext/interaction/Transform'\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" extTransform \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"ExtTransform\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"enableRotatedTransform\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u5730\\u56FE\\u65CB\\u8F6C\\u65F6\\u542F\\u7528\\u53D8\\u6362\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"hitTolerance\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u504F\\u79FB\\u91CF\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"scale\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u7F29\\u653E\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"rotate\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u65CB\\u8F6C\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"stretch\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u62C9\\u4F38\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"translate\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u62D6\\u62FD\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"keepAspectRatio\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" shiftKeyOnly\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u6309\\u4F4Fshift\\u4FDD\\u6301\\u540C\\u6BD4\\u4F8B\\u7F29\\u653E\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"keepRectangle\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u5C3D\\u53EF\\u80FD\\u4FDD\\u7559\\u77E9\\u5F62\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"translateBBox\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u5728\\u8FB9\\u754C\\u6846\\u5185\\u62D6\\u52A8\\u5373\\u53EF\\u79FB\\u52A8\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"translateFeature\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u70B9\\u51FBfeature\\u5373\\u53EF\\u79FB\\u52A8\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"addCondition\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" shiftKeyOnly\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u6309\\u4F4Fshift\\u591A\\u9009\\u8981\\u7D20\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"noFlip\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u9632\\u6B62\\u7279\\u5F81\\u51E0\\u4F55\\u7FFB\\u8F6C\\uFF0C\\u9ED8\\u8BA4\\u4E3Afalse\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"layers\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"drawLayer\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u6307\\u5B9A\\u53EF\\u4EE5\\u62D6\\u62FD\\u7684\\u56FE\\u5C42\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"pointRadius\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u8BBE\\u7F6E\\u9009\\u4E2D\\u6837\\u5F0F\\u7684\\u663E\\u793A\\u8303\\u56F4\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"map\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"addInteraction\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"extTransform\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u6DFB\\u52A0\\u5230\\u5730\\u56FE\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"\\u64A4\\u9500\\u91CD\\u505A\\u4EA4\\u4E92\",children:[(0,e.jsx)(n.a,{href:\"#\\u64A4\\u9500\\u91CD\\u505A\\u4EA4\\u4E92\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u64A4\\u9500/\\u91CD\\u505A\\u4EA4\\u4E92\"]}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"ol.interaction.UndoRedo\"}),\" \\u7C7B\\u662F ol-ext \\u4E2D\\u7528\\u4E8E\\u5904\\u7406\\u5730\\u56FE\\u4E0A\\u64A4\\u6D88\\u548C\\u91CD\\u505A\\u64CD\\u4F5C\\u7684\\u4EA4\\u4E92\\u7C7B\\u3002\\u5B83\\u53EF\\u4EE5\\u4E0E\\u5730\\u56FE\\u4E2D\\u7684\\u77E2\\u91CF\\u6E90\\u548C\\u4EA4\\u4E92\\u4E00\\u8D77\\u5DE5\\u4F5C\\uFF0C\\u4F7F\\u7528\\u6237\\u80FD\\u591F\\u64A4\\u6D88\\u548C\\u91CD\\u505A\\u5730\\u56FE\\u4E0A\\u7684\\u64CD\\u4F5C\\u3002\"]}),(0,e.jsx)(n.p,{children:\"\\u4EE5\\u4E0B\\u662F\\u4E0E\\u8BE5\\u7C7B\\u76F8\\u5173\\u7684\\u4E00\\u4E9B\\u5E38\\u7528\\u65B9\\u6CD5\\u548C\\u4E8B\\u4EF6\\uFF1A\"}),(0,e.jsx)(n.p,{children:\"\\u5E38\\u7528\\u65B9\\u6CD5\\uFF1A\"}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:(0,e.jsx)(n.p,{children:\"undo() \\u65B9\\u6CD5\\u7528\\u4E8E\\u6267\\u884C\\u4E0A\\u6B21\\u8BB0\\u5F55\\u7684\\u64CD\\u4F5C\\u3002\"})}),(0,e.jsx)(n.li,{children:(0,e.jsx)(n.p,{children:\"redo() \\u65B9\\u6CD5\\u7528\\u4E8E\\u91CD\\u505A\\u4E0A\\u4E00\\u6B21\\u88AB\\u64A4\\u6D88\\u7684\\u64CD\\u4F5C\\u3002\"})}),(0,e.jsx)(n.li,{children:(0,e.jsx)(n.p,{children:\"shift() \\u65B9\\u6CD5\\u5141\\u8BB8\\u60A8\\u4ECE\\u64A4\\u6D88\\u5806\\u6808\\u4E2D\\u5220\\u9664\\u64CD\\u4F5C\\u3002\"})}),(0,e.jsx)(n.li,{children:(0,e.jsx)(n.p,{children:\"getStack() \\u65B9\\u6CD5\\u53EF\\u83B7\\u53D6\\u5806\\u6808\\u4E2D\\u5F53\\u524D\\u64A4\\u6D88\\u64CD\\u4F5C\\u7684\\u5217\\u8868\\u3002\"})})]}),(0,e.jsx)(n.p,{children:\"\\u76D1\\u542C\\u4E8B\\u4EF6\\uFF1A\"}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:(0,e.jsx)(n.p,{children:\"event:undo\\uFF1A\\u5F53\\u6267\\u884C\\u64A4\\u6D88\\u64CD\\u4F5C\\u65F6\\u89E6\\u53D1\\u6B64\\u4E8B\\u4EF6\\u3002\"})}),(0,e.jsx)(n.li,{children:(0,e.jsx)(n.p,{children:\"event:redo\\uFF1A\\u5F53\\u6267\\u884C\\u91CD\\u505A\\u64CD\\u4F5C\\u65F6\\u89E6\\u53D1\\u6B64\\u4E8B\\u4EF6\\u3002\"})}),(0,e.jsx)(n.li,{children:(0,e.jsx)(n.p,{children:\"change:add\\uFF1A\\u5F53\\u5411\\u64A4\\u6D88\\u5806\\u6808\\u4E2D\\u6DFB\\u52A0\\u65B0\\u64CD\\u4F5C\\u65F6\\u89E6\\u53D1\\u6B64\\u4E8B\\u4EF6\\u3002\"})}),(0,e.jsx)(n.li,{children:(0,e.jsx)(n.p,{children:\"change:remove\\uFF1A\\u5F53\\u4ECE\\u64A4\\u6D88\\u5806\\u6808\\u4E2D\\u79FB\\u9664\\u64CD\\u4F5C\\u65F6\\u89E6\\u53D1\\u6B64\\u4E8B\\u4EF6\\u3002\"})}),(0,e.jsx)(n.li,{children:(0,e.jsx)(n.p,{children:\"change:clear\\uFF1A\\u5F53\\u6E05\\u7A7A\\u6574\\u4E2A\\u64A4\\u6D88\\u5806\\u6808\\u65F6\\u89E6\\u53D1\\u6B64\\u4E8B\\u4EF6\\u3002\"})})]}),(0,e.jsx)(n.p,{children:\"\\u8FD9\\u4E9B\\u4E8B\\u4EF6\\u548C\\u65B9\\u6CD5\\u63D0\\u4F9B\\u4E86\\u5BF9\\u64A4\\u6D88\\u548C\\u91CD\\u505A\\u64CD\\u4F5C\\u7684\\u5B8C\\u6574\\u63A7\\u5236\\u3002\\u4F60\\u53EF\\u4EE5\\u76D1\\u542C\\u8FD9\\u4E9B\\u4E8B\\u4EF6\\uFF0C\\u4EE5\\u4FBF\\u5728\\u7528\\u6237\\u6267\\u884C\\u64CD\\u4F5C\\u65F6\\u91C7\\u53D6\\u76F8\\u5E94\\u7684\\u884C\\u52A8\\uFF0C\\u4E5F\\u53EF\\u4EE5\\u4F7F\\u7528\\u65B9\\u6CD5\\u6765\\u6267\\u884C\\u64A4\\u6D88\\u548C\\u91CD\\u505A\\u7684\\u64CD\\u4F5C\\u3002\"}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token imports\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ExtUndoRedo\"})}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'ol-ext/interaction/UndoRedo'\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u64A4\\u9500/\\u91CD\\u505A\\u4EA4\\u4E92\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" extUndoRedo \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"ExtUndoRedo\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"extUndoRedo\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"on\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'undo'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"event\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token class-name console\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'undo'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" event\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"extUndoRedo\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"on\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'redo'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"event\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token class-name console\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'redo'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" event\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"extUndoRedo\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"on\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'stack:add'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"event\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token class-name console\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'stack:add'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" event\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"extUndoRedo\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"on\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'stack:remove'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"event\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token class-name console\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'stack:remove'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" event\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"extUndoRedo\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"on\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'stack:clear'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"event\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token class-name console\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'stack:clear'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" event\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"extUndoRedo\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"undo\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"extUndoRedo\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"redo\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"extUndoRedo\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"shift\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"extUndoRedo\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"getStack\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"map\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function method property-access\",children:\"addInteraction\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"extUndoRedo\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u6DFB\\u52A0\\u5230\\u5730\\u56FE\"}),`\n`]})]})})]})}function b(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,Object.assign({},a,{children:(0,e.jsx)(p,a)})):p(a)}var w=b;function R(a,n){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return g(v);})();\n;return Component;"},"_id":"blog/React-OpenLayers-development-record.mdx","_raw":{"sourceFilePath":"blog/React-OpenLayers-development-record.mdx","sourceFileName":"React-OpenLayers-development-record.mdx","sourceFileDir":"blog","contentType":"mdx","flattenedPath":"blog/React-OpenLayers-development-record"},"type":"Blog","readingTime":{"text":"4 min read","minutes":3.905,"time":234300,"words":781},"slug":"React-OpenLayers-development-record","path":"blog/React-OpenLayers-development-record","filePath":"blog/React-OpenLayers-development-record.mdx","toc":[{"value":"禁止地图点击缩放和拖动平移交互","url":"#禁止地图点击缩放和拖动平移交互","depth":3},{"value":"图形的平移、旋转、缩放交互","url":"#图形的平移旋转缩放交互","depth":3},{"value":"撤销/重做交互","url":"#撤销重做交互","depth":3}]},"authorDetails":[{"name":"木安竹生","avatar":"/static/images/avatar.jpg","occupation":"前端工程师","company":"庐山烟雨浙江潮，未到千般恨不消。","email":"916406821@qq.com","github":"https://github.com/shimiyzhang","juejin":"https://juejin.cn/user/224777950737966","zhihu":"https://www.zhihu.com/people/wo-you-bu-te-bie","type":"Authors","readingTime":{"text":"1 min read","minutes":0.345,"time":20700,"words":69},"slug":"default","path":"authors/default","filePath":"authors/default.mdx","toc":[]}],"prev":{"title":"在项目开发中使用 ant design 组件的注意事项","date":"2023-11-08T00:00:00.000Z","tags":["react","ant design"],"draft":false,"summary":"记录在开发过程中使用 ant design 组件需要注意的细节和遇到的问题，以及相应的解决方案。","images":["/static/icons/antd.svg"],"type":"Blog","readingTime":{"text":"3 min read","minutes":2.965,"time":177900,"words":593},"slug":"Considerations-for-using-Ant-Design-components-during-development","path":"blog/Considerations-for-using-Ant-Design-components-during-development","filePath":"blog/Considerations-for-using-Ant-Design-components-during-development.mdx","toc":[{"value":"ColorPicker 颜色选择器","url":"#colorpicker-颜色选择器","depth":3},{"value":"Tooltip 文字提示","url":"#tooltip-文字提示","depth":3},{"value":"样式与 TailwindCSS 优先级冲突","url":"#样式与-tailwindcss-优先级冲突","depth":3}]},"next":null},"__N_SSG":true}