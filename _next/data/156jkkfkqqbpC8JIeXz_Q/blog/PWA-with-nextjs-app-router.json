{"pageProps":{"post":{"title":"为NextJS 网站构建 PWA","date":"2024-03-15T00:00:00.000Z","tags":["NextJS"],"draft":false,"summary":"记录为NextJS（App Router）网站构建渐进式Web应用的过程，以及使用到的第三方工具和库。","images":[],"body":{"raw":"\n> PWA是渐进式Web应用程序（Progressive Web Application）的缩写。它是一种结合了网页和应用程序的最佳特性的新型应用开发模式。PWA允许您创建具有应用程序般体验的网页应用，可以在各种设备上工作，无需下载或安装。 —— [MDN](https://developer.mozilla.org/zh-CN/docs/Web/Progressive_web_apps)\n\n### 背景\n\n上周我使用 [NextJS](https://nextjs.org/) 和 [NotionAPI](https://www.notion.so) 开发了一个简单的记账网站，目的是记录自己的日常花销，顺便熟悉一下NextJS最新的 App Router 路由模式。为了方便在手机上进行记账操作，因此通过 PWA 的方式优化用户体验。\n\n### 生成 manifest 文件\n\n使用在线网站 [simicart](https://www.simicart.com/manifest-generator.html/) 生成 manifest.webmanifest 文件，以及网站图标。\n\n示例代码\n\n```json\n// manifest.webmanifest\n{\n    \"name\": \"佩奇记账\",\n    \"short_name\": \"佩奇记账\",\n    \"theme_color\": \"#26A69A\",\n    \"background_color\": \"#E0F2F1\",\n    \"display\": \"standalone\",\n    \"scope\": \"/\",\n    \"start_url\": \"/\",\n    \"description\": \"佩奇记账是一款简洁易用的记账应用，旨在帮助用户轻松管理个人和家庭财务。\",\n    \"icons\": [\n        {\n            \"src\": \"/icon-192x192.png\",\n            \"sizes\": \"192x192\",\n            \"type\": \"image/png\"\n        },\n        {\n            \"src\": \"/icon-256x256.png\",\n            \"sizes\": \"256x256\",\n            \"type\": \"image/png\"\n        },\n        {\n            \"src\": \"/icon-384x384.png\",\n            \"sizes\": \"384x384\",\n            \"type\": \"image/png\"\n        },\n        {\n            \"src\": \"/icon-512x512.png\",\n            \"sizes\": \"512x512\",\n            \"type\": \"image/png\"\n        }\n    ]\n}\n```\n\n将生成的图标放入项目根目录下的 `public` 文件夹，将 `manifest.webmanifest` 文件放入 app 目录中。\n\n```\n├── \\public\\icon-192x192.png\n├── \\public\\icon-256x256.png\n├── \\public\\icon-384x384.png\n├── \\public\\icon-512x512.png\n└── \\app\\manifest.webmanifest\n```\n\n在 `app` 目录下的 `layout.(ts|js)` 文件夹中引入 `manifest` 文件，并添加一些必要的 `meta` 标签。\n\n```ts\n// /app/layout.ts\nimport type { Metadata, Viewport } from 'next'\nimport './globals.css'\n\nexport const metadata: Metadata = {\n    title: '佩奇记账',\n    description: '佩奇记账是一款简洁易用的记账应用，旨在帮助用户轻松管理个人和家庭财务。',\n    appleWebApp: {\n      title: '佩奇记账',\n      capable: true,\n      statusBarStyle: 'black-translucent',\n    },\n    applicationName: '佩奇记账',\n    manifest: '/manifest.webmanifest',\n  }\n\nexport const viewport: Viewport = {\n  themeColor: '#26A69A',\n}\n\nexport default function RootLayout({ children }: { children: React.ReactNode }) {\n  return (\n    <html lang=\"zh_CN\">\n      <body>\n        {children}\n      </body>\n    </html>\n  )\n}\n\n```\n\n### 使用 `next-pwa` 库\n\n[next-pwa](https://github.com/shadowwalker/next-pwa) 插件实现零配置注册和生成 service worker，以及优化的预缓存和运行时缓存等功能。\n\n安装\n\n```shell\nnpm install next-pwa\n```\n\n在 `next.config.ts` 文件中添加如下代码\n\n```ts\n/** @type {import('next').NextConfig} */\n\nconst withPWA = require('next-pwa')({\n  dest: 'public',\n  register: true,\n  skipWaiting: true,\n  // disable: process.env.NODE_ENV === 'development' // 开发环境禁用PWA\n});\n\nmodule.exports = withPWA({\n  reactStrictMode: true,\n});\n```\n\n### 本地构建并测试 PWA\n\n```shell\n# 本地构建\nnpm run build\n\n# 本地运行\nnpm run start\n```\n\n构建完成时会在 `public` 文件夹生成 `sw.js` 和 `workbox-xxx.js` 文件，需要将它们写入 `.gitignore` 避免提交到远程仓库。\n\n![pubilc files](https://cdn.jsdelivr.net/gh/shimiyzhang/blog-image/images/24-03-15/clipboard-3949.4c11ba.webp)\n\n```shell\n# Auto Generated PWA files\n**/public/sw.js\n**/public/workbox-*.js\n**/public/worker-*.js\n**/public/sw.js.map\n**/public/workbox-*.js.map\n**/public/worker-*.js.map\n```\n\n然后打开 [http://localhost:300](http://localhost:300) 就会看到地址栏显示一个可安装的图标，点击图标就可以安装应用到电脑桌面。\n\n![address bar](https://cdn.jsdelivr.net/gh/shimiyzhang/blog-image/images/24-03-15/clipboard-4419.7be4f4.webp)\n\n![install PWA](https://cdn.jsdelivr.net/gh/shimiyzhang/blog-image/images/24-03-15/clipboard-7421.6eb938.webp)\n\niPhone需要通过浏览器菜单中的`添加到主屏幕`按钮将应用添加到桌面。\n\n### 参考\n\n> [为原有的 NextJS 构建 PWA - 静かな森](https://innei.in/posts/programming/nextjs-pwa)\n\n> [PWA with Next Js 13](https://dev.to/sabbir_zz/pwa-with-next-js-13-194l)\n","code":"var Component=(()=>{var d=Object.create;var l=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var u=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),g=(a,e)=>{for(var s in e)l(a,s,{get:e[s],enumerable:!0})},o=(a,e,s,i)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of m(e))!k.call(a,c)&&c!==s&&l(a,c,{get:()=>e[c],enumerable:!(i=h(e,c))||i.enumerable});return a};var b=(a,e,s)=>(s=a!=null?d(N(a)):{},o(e||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),w=a=>o(l({},\"__esModule\",{value:!0}),a);var r=u((W,t)=>{t.exports=_jsx_runtime});var j={};g(j,{default:()=>f,frontmatter:()=>x});var n=b(r()),x={title:\"\\u4E3ANextJS \\u7F51\\u7AD9\\u6784\\u5EFA PWA\",date:\"2024-03-15\",tags:[\"NextJS\"],images:[],draft:!1,summary:\"\\u8BB0\\u5F55\\u4E3ANextJS\\uFF08App Router\\uFF09\\u7F51\\u7AD9\\u6784\\u5EFA\\u6E10\\u8FDB\\u5F0FWeb\\u5E94\\u7528\\u7684\\u8FC7\\u7A0B\\uFF0C\\u4EE5\\u53CA\\u4F7F\\u7528\\u5230\\u7684\\u7B2C\\u4E09\\u65B9\\u5DE5\\u5177\\u548C\\u5E93\\u3002\"};function p(a){let e=Object.assign({blockquote:\"blockquote\",p:\"p\",a:\"a\",h3:\"h3\",span:\"span\",pre:\"pre\",code:\"code\",img:\"img\"},a.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.blockquote,{children:(0,n.jsxs)(e.p,{children:[\"PWA\\u662F\\u6E10\\u8FDB\\u5F0FWeb\\u5E94\\u7528\\u7A0B\\u5E8F\\uFF08Progressive Web Application\\uFF09\\u7684\\u7F29\\u5199\\u3002\\u5B83\\u662F\\u4E00\\u79CD\\u7ED3\\u5408\\u4E86\\u7F51\\u9875\\u548C\\u5E94\\u7528\\u7A0B\\u5E8F\\u7684\\u6700\\u4F73\\u7279\\u6027\\u7684\\u65B0\\u578B\\u5E94\\u7528\\u5F00\\u53D1\\u6A21\\u5F0F\\u3002PWA\\u5141\\u8BB8\\u60A8\\u521B\\u5EFA\\u5177\\u6709\\u5E94\\u7528\\u7A0B\\u5E8F\\u822C\\u4F53\\u9A8C\\u7684\\u7F51\\u9875\\u5E94\\u7528\\uFF0C\\u53EF\\u4EE5\\u5728\\u5404\\u79CD\\u8BBE\\u5907\\u4E0A\\u5DE5\\u4F5C\\uFF0C\\u65E0\\u9700\\u4E0B\\u8F7D\\u6216\\u5B89\\u88C5\\u3002 \\u2014\\u2014 \",(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/zh-CN/docs/Web/Progressive_web_apps\",children:\"MDN\"})]})}),(0,n.jsxs)(e.h3,{id:\"\\u80CC\\u666F\",children:[(0,n.jsx)(e.a,{href:\"#\\u80CC\\u666F\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u80CC\\u666F\"]}),(0,n.jsxs)(e.p,{children:[\"\\u4E0A\\u5468\\u6211\\u4F7F\\u7528 \",(0,n.jsx)(e.a,{href:\"https://nextjs.org/\",children:\"NextJS\"}),\" \\u548C \",(0,n.jsx)(e.a,{href:\"https://www.notion.so\",children:\"NotionAPI\"}),\" \\u5F00\\u53D1\\u4E86\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u8BB0\\u8D26\\u7F51\\u7AD9\\uFF0C\\u76EE\\u7684\\u662F\\u8BB0\\u5F55\\u81EA\\u5DF1\\u7684\\u65E5\\u5E38\\u82B1\\u9500\\uFF0C\\u987A\\u4FBF\\u719F\\u6089\\u4E00\\u4E0BNextJS\\u6700\\u65B0\\u7684 App Router \\u8DEF\\u7531\\u6A21\\u5F0F\\u3002\\u4E3A\\u4E86\\u65B9\\u4FBF\\u5728\\u624B\\u673A\\u4E0A\\u8FDB\\u884C\\u8BB0\\u8D26\\u64CD\\u4F5C\\uFF0C\\u56E0\\u6B64\\u901A\\u8FC7 PWA \\u7684\\u65B9\\u5F0F\\u4F18\\u5316\\u7528\\u6237\\u4F53\\u9A8C\\u3002\"]}),(0,n.jsxs)(e.h3,{id:\"\\u751F\\u6210-manifest-\\u6587\\u4EF6\",children:[(0,n.jsx)(e.a,{href:\"#\\u751F\\u6210-manifest-\\u6587\\u4EF6\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u751F\\u6210 manifest \\u6587\\u4EF6\"]}),(0,n.jsxs)(e.p,{children:[\"\\u4F7F\\u7528\\u5728\\u7EBF\\u7F51\\u7AD9 \",(0,n.jsx)(e.a,{href:\"https://www.simicart.com/manifest-generator.html/\",children:\"simicart\"}),\" \\u751F\\u6210 manifest.webmanifest \\u6587\\u4EF6\\uFF0C\\u4EE5\\u53CA\\u7F51\\u7AD9\\u56FE\\u6807\\u3002\"]}),(0,n.jsx)(e.p,{children:\"\\u793A\\u4F8B\\u4EE3\\u7801\"}),(0,n.jsx)(e.pre,{className:\"language-json\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-json\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// manifest.webmanifest\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"name\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"\\u4F69\\u5947\\u8BB0\\u8D26\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"short_name\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"\\u4F69\\u5947\\u8BB0\\u8D26\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"theme_color\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"#26A69A\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"background_color\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"#E0F2F1\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"display\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"standalone\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"scope\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"/\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"start_url\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"/\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"description\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"\\u4F69\\u5947\\u8BB0\\u8D26\\u662F\\u4E00\\u6B3E\\u7B80\\u6D01\\u6613\\u7528\\u7684\\u8BB0\\u8D26\\u5E94\\u7528\\uFF0C\\u65E8\\u5728\\u5E2E\\u52A9\\u7528\\u6237\\u8F7B\\u677E\\u7BA1\\u7406\\u4E2A\\u4EBA\\u548C\\u5BB6\\u5EAD\\u8D22\\u52A1\\u3002\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"icons\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"src\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"/icon-192x192.png\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"sizes\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"192x192\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"type\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"image/png\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"src\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"/icon-256x256.png\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"sizes\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"256x256\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"type\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"image/png\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"src\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"/icon-384x384.png\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"sizes\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"384x384\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"type\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"image/png\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"src\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"/icon-512x512.png\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"sizes\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"512x512\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token property\",children:'\"type\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"image/png\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u5C06\\u751F\\u6210\\u7684\\u56FE\\u6807\\u653E\\u5165\\u9879\\u76EE\\u6839\\u76EE\\u5F55\\u4E0B\\u7684 \",(0,n.jsx)(e.code,{children:\"public\"}),\" \\u6587\\u4EF6\\u5939\\uFF0C\\u5C06 \",(0,n.jsx)(e.code,{children:\"manifest.webmanifest\"}),\" \\u6587\\u4EF6\\u653E\\u5165 app \\u76EE\\u5F55\\u4E2D\\u3002\"]}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 \\\\public\\\\icon-192x192.png\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 \\\\public\\\\icon-256x256.png\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 \\\\public\\\\icon-384x384.png\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 \\\\public\\\\icon-512x512.png\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u2514\\u2500\\u2500 \\\\app\\\\manifest.webmanifest\n`})]})}),(0,n.jsxs)(e.p,{children:[\"\\u5728 \",(0,n.jsx)(e.code,{children:\"app\"}),\" \\u76EE\\u5F55\\u4E0B\\u7684 \",(0,n.jsx)(e.code,{children:\"layout.(ts|js)\"}),\" \\u6587\\u4EF6\\u5939\\u4E2D\\u5F15\\u5165 \",(0,n.jsx)(e.code,{children:\"manifest\"}),\" \\u6587\\u4EF6\\uFF0C\\u5E76\\u6DFB\\u52A0\\u4E00\\u4E9B\\u5FC5\\u8981\\u7684 \",(0,n.jsx)(e.code,{children:\"meta\"}),\" \\u6807\\u7B7E\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-ts\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// /app/layout.ts\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" Metadata\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" Viewport \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'next'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'./globals.css'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" metadata\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" Metadata \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    title\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'\\u4F69\\u5947\\u8BB0\\u8D26'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    description\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'\\u4F69\\u5947\\u8BB0\\u8D26\\u662F\\u4E00\\u6B3E\\u7B80\\u6D01\\u6613\\u7528\\u7684\\u8BB0\\u8D26\\u5E94\\u7528\\uFF0C\\u65E8\\u5728\\u5E2E\\u52A9\\u7528\\u6237\\u8F7B\\u677E\\u7BA1\\u7406\\u4E2A\\u4EBA\\u548C\\u5BB6\\u5EAD\\u8D22\\u52A1\\u3002'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    appleWebApp\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      title\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'\\u4F69\\u5947\\u8BB0\\u8D26'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      capable\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      statusBarStyle\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'black-translucent'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    applicationName\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'\\u4F69\\u5947\\u8BB0\\u8D26'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    manifest\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'/manifest.webmanifest'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" viewport\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" Viewport \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  themeColor\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'#26A69A'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"RootLayout\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" children \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" children\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" React\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"ReactNode \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"html lang\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"zh_CN\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"body\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"children\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"body\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"html\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`})]})}),(0,n.jsxs)(e.h3,{id:\"\\u4F7F\\u7528-next-pwa-\\u5E93\",children:[(0,n.jsx)(e.a,{href:\"#\\u4F7F\\u7528-next-pwa-\\u5E93\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"next-pwa\"}),\" \\u5E93\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/shadowwalker/next-pwa\",children:\"next-pwa\"}),\" \\u63D2\\u4EF6\\u5B9E\\u73B0\\u96F6\\u914D\\u7F6E\\u6CE8\\u518C\\u548C\\u751F\\u6210 service worker\\uFF0C\\u4EE5\\u53CA\\u4F18\\u5316\\u7684\\u9884\\u7F13\\u5B58\\u548C\\u8FD0\\u884C\\u65F6\\u7F13\\u5B58\\u7B49\\u529F\\u80FD\\u3002\"]}),(0,n.jsx)(e.p,{children:\"\\u5B89\\u88C5\"}),(0,n.jsx)(e.pre,{className:\"language-shell\",children:(0,n.jsx)(e.code,{className:\"code-highlight language-shell\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"npm\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"install\"}),` next-pwa\n`]})})}),(0,n.jsxs)(e.p,{children:[\"\\u5728 \",(0,n.jsx)(e.code,{children:\"next.config.ts\"}),\" \\u6587\\u4EF6\\u4E2D\\u6DFB\\u52A0\\u5982\\u4E0B\\u4EE3\\u7801\"]}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-ts\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"/** @type {import('next').NextConfig} */\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" withPWA \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"require\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'next-pwa'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  dest\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'public'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  register\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  skipWaiting\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// disable: process.env.NODE_ENV === 'development' // \\u5F00\\u53D1\\u73AF\\u5883\\u7981\\u7528PWA\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"module\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"exports \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"withPWA\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  reactStrictMode\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{id:\"\\u672C\\u5730\\u6784\\u5EFA\\u5E76\\u6D4B\\u8BD5-pwa\",children:[(0,n.jsx)(e.a,{href:\"#\\u672C\\u5730\\u6784\\u5EFA\\u5E76\\u6D4B\\u8BD5-pwa\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u672C\\u5730\\u6784\\u5EFA\\u5E76\\u6D4B\\u8BD5 PWA\"]}),(0,n.jsx)(e.pre,{className:\"language-shell\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-shell\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# \\u672C\\u5730\\u6784\\u5EFA\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"npm\"}),` run build\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# \\u672C\\u5730\\u8FD0\\u884C\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"npm\"}),` run start\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u6784\\u5EFA\\u5B8C\\u6210\\u65F6\\u4F1A\\u5728 \",(0,n.jsx)(e.code,{children:\"public\"}),\" \\u6587\\u4EF6\\u5939\\u751F\\u6210 \",(0,n.jsx)(e.code,{children:\"sw.js\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"workbox-xxx.js\"}),\" \\u6587\\u4EF6\\uFF0C\\u9700\\u8981\\u5C06\\u5B83\\u4EEC\\u5199\\u5165 \",(0,n.jsx)(e.code,{children:\".gitignore\"}),\" \\u907F\\u514D\\u63D0\\u4EA4\\u5230\\u8FDC\\u7A0B\\u4ED3\\u5E93\\u3002\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"pubilc files\",src:\"https://cdn.jsdelivr.net/gh/shimiyzhang/blog-image/images/24-03-15/clipboard-3949.4c11ba.webp\"})}),(0,n.jsx)(e.pre,{className:\"language-shell\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-shell\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Auto Generated PWA files\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`**/public/sw.js\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`**/public/workbox-*.js\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`**/public/worker-*.js\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`**/public/sw.js.map\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`**/public/workbox-*.js.map\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`**/public/worker-*.js.map\n`})]})}),(0,n.jsxs)(e.p,{children:[\"\\u7136\\u540E\\u6253\\u5F00 \",(0,n.jsx)(e.a,{href:\"http://localhost:300\",children:\"http://localhost:300\"}),\" \\u5C31\\u4F1A\\u770B\\u5230\\u5730\\u5740\\u680F\\u663E\\u793A\\u4E00\\u4E2A\\u53EF\\u5B89\\u88C5\\u7684\\u56FE\\u6807\\uFF0C\\u70B9\\u51FB\\u56FE\\u6807\\u5C31\\u53EF\\u4EE5\\u5B89\\u88C5\\u5E94\\u7528\\u5230\\u7535\\u8111\\u684C\\u9762\\u3002\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"address bar\",src:\"https://cdn.jsdelivr.net/gh/shimiyzhang/blog-image/images/24-03-15/clipboard-4419.7be4f4.webp\"})}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"install PWA\",src:\"https://cdn.jsdelivr.net/gh/shimiyzhang/blog-image/images/24-03-15/clipboard-7421.6eb938.webp\"})}),(0,n.jsxs)(e.p,{children:[\"iPhone\\u9700\\u8981\\u901A\\u8FC7\\u6D4F\\u89C8\\u5668\\u83DC\\u5355\\u4E2D\\u7684\",(0,n.jsx)(e.code,{children:\"\\u6DFB\\u52A0\\u5230\\u4E3B\\u5C4F\\u5E55\"}),\"\\u6309\\u94AE\\u5C06\\u5E94\\u7528\\u6DFB\\u52A0\\u5230\\u684C\\u9762\\u3002\"]}),(0,n.jsxs)(e.h3,{id:\"\\u53C2\\u8003\",children:[(0,n.jsx)(e.a,{href:\"#\\u53C2\\u8003\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u53C2\\u8003\"]}),(0,n.jsx)(e.blockquote,{children:(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://innei.in/posts/programming/nextjs-pwa\",children:\"\\u4E3A\\u539F\\u6709\\u7684 NextJS \\u6784\\u5EFA PWA - \\u9759\\u304B\\u306A\\u68EE\"})})}),(0,n.jsx)(e.blockquote,{children:(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://dev.to/sabbir_zz/pwa-with-next-js-13-194l\",children:\"PWA with Next Js 13\"})})})]})}function y(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,Object.assign({},a,{children:(0,n.jsx)(p,a)})):p(a)}var f=y;return w(j);})();\n;return Component;"},"_id":"blog/PWA-with-nextjs-app-router.mdx","_raw":{"sourceFilePath":"blog/PWA-with-nextjs-app-router.mdx","sourceFileName":"PWA-with-nextjs-app-router.mdx","sourceFileDir":"blog","contentType":"mdx","flattenedPath":"blog/PWA-with-nextjs-app-router"},"type":"Blog","readingTime":{"text":"4 min read","minutes":3.64,"time":218400,"words":728},"slug":"PWA-with-nextjs-app-router","path":"blog/PWA-with-nextjs-app-router","filePath":"blog/PWA-with-nextjs-app-router.mdx","toc":[{"value":"背景","url":"#背景","depth":3},{"value":"生成 manifest 文件","url":"#生成-manifest-文件","depth":3},{"value":"使用 next-pwa 库","url":"#使用-next-pwa-库","depth":3},{"value":"本地构建并测试 PWA","url":"#本地构建并测试-pwa","depth":3},{"value":"参考","url":"#参考","depth":3}]},"authorDetails":[{"name":"Shimiy","avatar":"/static/images/avatar.jpg","occupation":"前端工程师","company":"庐山烟雨浙江潮，未到千般恨不消。","email":"916406821@qq.com","github":"https://github.com/SHIMIYzhang","juejin":"https://juejin.cn/user/224777950737966","zhihu":"https://www.zhihu.com/people/wo-you-bu-te-bie","type":"Authors","readingTime":{"text":"1 min read","minutes":0.16,"time":9600,"words":32},"slug":"default","path":"authors/default","filePath":"authors/default.mdx","toc":[]}],"prev":{"title":"2024年度学习计划","date":"2024-01-29T00:00:00.000Z","tags":["study"],"draft":true,"summary":"简单罗列一下2024年计划学习的库和技术","type":"Blog","readingTime":{"text":"1 min read","minutes":0.615,"time":36900,"words":123},"slug":"2024-annual-study-plan","path":"blog/2024-annual-study-plan","filePath":"blog/2024-annual-study-plan.mdx","toc":[{"value":"学习计划","url":"#学习计划","depth":2}]},"next":null},"__N_SSG":true}