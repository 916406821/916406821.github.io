<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/Z.svg"/><meta name="description" content="Learn how to build a personal website using Next.js"/><meta property="og:image" content="https://og-image.vercel.app/Zhang%20Shumeng%60s%20Blog.png?theme=light&amp;md=0&amp;fontSize=75px&amp;images=https%3A%2F%2Fassets.zeit.co%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><meta name="og:title" content="Zhang Shumeng`s Blog"/><meta name="twitter:card" content="summary_large_image"/><link rel="preload" as="image" href="/Z.svg"/><title>常用的JavaScript代码片段</title><meta name="next-head-count" content="9"/><link rel="preload" href="/_next/static/css/0980fb410332472e.css" as="style"/><link rel="stylesheet" href="/_next/static/css/0980fb410332472e.css" data-n-g=""/><link rel="preload" href="/_next/static/css/3cf2d9b0cda59a28.css" as="style"/><link rel="stylesheet" href="/_next/static/css/3cf2d9b0cda59a28.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-b8f8d6679aaa5f42.js" defer=""></script><script src="/_next/static/chunks/framework-2c79e2a64abdb08b.js" defer=""></script><script src="/_next/static/chunks/main-ac344eb87244516d.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f35537586aa9f5dd.js" defer=""></script><script src="/_next/static/chunks/567-79ad34d032f1b3ba.js" defer=""></script><script src="/_next/static/chunks/684-a820d8d8a89c8e7c.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-a6e585bb6a9cc600.js" defer=""></script><script src="/_next/static/cnuqpYPwgoG4aFyLpNam3/_buildManifest.js" defer=""></script><script src="/_next/static/cnuqpYPwgoG4aFyLpNam3/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="layout_container__fbLkO"><header class="layout_header__kY0Lt"><div style="position:fixed;top:0;left:0;height:.25rem;width:100%;background-color:rgb(99 102 241);transform:translateX(-100%);transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s"></div><a href="/"><img alt="Zhang Shumeng" src="/Z.svg" width="108" height="108" decoding="async" data-nimg="1" class="utils_borderCircle__s2nTm" style="color:transparent"/></a><h2 class="utils_headingLg__5535D"><a class="utils_colorInherit__mSH_x" href="/">Zhang Shumeng</a></h2></header><main><article><h1 class="utils_headingXl__u25Y2">常用的JavaScript代码片段</h1><div class="utils_lightText__eUzGY"><time dateTime="2023-02-24">2023年02月24日</time></div><div><p><img src="https://cdn.jsdelivr.net/gh/shimiyzhang/blog-image/images/23-02-24/clipboard-7869.e7dab8.webp" alt=""></p>
<p>列举一下前端开发中常用的JavaScript代码片段，方便今后复习查阅。</p>
<p><strong>1. 三元表达式</strong></p>
<p>但是，不要过度使用它。它会使你的代码更加冗长。明智的做法是仅用此替换简单的表达式以提高可读性并减少代码行数。</p>
<pre><code>const age = 12;
let ageGroup;

// LONG FORM
if (age > 18) {
  ageGroup = 'An adult';
} else {
  ageGroup = 'A child';
}

// SHORTHAND
ageGroup = age > 18 ? 'An adult' : 'A child';
</code></pre>
<p><strong>2. 空值合并</strong></p>
<p>空值合并运算符（??）是一个逻辑运算符，当左侧的操作数为 null 或者 undefined 时，返回其右侧操作数，否则返回左侧操作数。</p>
<pre><code>let something;

// LONG FORM
if (something) {
  console.log(something);
} else {
  console.log('Nothing found');
}

// SHORTHAND
console.log(something ?? 'Nothing found');
</code></pre>
<p><strong>3.数组去重</strong></p>
<pre><code>const uniqueArray = (array) => [...new Set(array)];
uniqueArray([1,1,2,2,3,3]); // [1,2,3]
</code></pre>
<p><strong>4. 将任何值转换为布尔值</strong></p>
<pre><code>!!true    // true
!!2       // true
!![]      // ture
!!"Test"  // true

!!false   // false
!!0       // false
!!''      // false
</code></pre>
<p><strong>5. 扩展运算符</strong></p>
<pre><code>// 组合数组
const nums1 = [1, 2, 3];
const nums2 = [4, 5, 6];
// LONG FORM
let newArray = nums1.concat(nums2);
// SHORTHAND
newArray = [...nums1, ...nums2];

// 推送数组
let numbers = [1, 2, 3];
// LONG FORM
numbers.push(4);
// SHORTHAND
numbers = [...numbers, 4, 5];
</code></pre>
<p><strong>6. 返回当前访问的URL地址</strong></p>
<pre><code>const currentURL = () => window.location.href;
currentURL(); // 'https://www.baidu.com/'
</code></pre>
<p><strong>7. 生成随机数</strong></p>
<pre><code>const random = (min, max) => Math.floor(Math.random() * (max - min)) + min;

random(10, 14); // [10, 11, 12, 13]
</code></pre>
<p>此随机函数包括下限，但不包括上限。</p>
<p><strong>8. 生成指定范围的number数组</strong></p>
<pre><code>const range = (start, end, step = 1) => {
  let output = [];

  if (end === undefined) {
    end = start;
    start = 0;
  }

  for (let i = start; i &#x3C; end; i += step) {
    output.push(i);
  }
  return output;
}

range(5); // [0, 1, 2, 3, 4]

range(5, 10); // [5, 6, 7, 8, 9]

range(0, 6, 2); // [0, 2, 4]
</code></pre>
<p><strong>9. 函数防抖</strong></p>
<pre><code>const debounce = (callback, wait) => {
  let timeoutId = null;

  return (...args) => {
    window.clearTimeout(timeoutId);

    timeoutId = window.setTimeout(() => {
      callback.apply(null. args);
    }, wait);
  };
}
</code></pre>
<pre><code>// 示例
const handleMouseMove = debouce((ev) => {
  // Do stuff with the event!
}, 250);

window.addEventListener('mousemove', handleMouseMove);
</code></pre>
<p>在此示例中，在用户开始移动鼠标，然后停止移动鼠标至少 250 毫秒之前，不会发生任何操作。</p>
<p><strong>10. 函数节流</strong></p>
<pre><code>const throttle = (callback, wait) => {
  let timeoutId = null;

  return (...arg) => {
    if (!timeoutId) {
      timeoutId = setTimeout(() => {
        timeoutId = null;
        callback.apply(null, arg);
      })
    }
  }
}
</code></pre>
<pre><code>// 示例
const handleOnScroll = throttle((ev) => {
  // Do stuff with the event!
}, 250);

window.addEventListener('onScroll', handleOnScroll);
</code></pre>
<p>在此示例中，在用户开始滚动滑轮，然后间隔250 毫秒执行一次操作。</p>
<p>以上就是本文的全部内容，感谢阅读。</p>
</div></article></main><div class="layout_backToHome__9sjx_"><a href="/">← 返回首页</a></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"常用的JavaScript代码片段","contentHtml":"\u003cp\u003e\u003cimg src=\"https://cdn.jsdelivr.net/gh/shimiyzhang/blog-image/images/23-02-24/clipboard-7869.e7dab8.webp\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003e列举一下前端开发中常用的JavaScript代码片段，方便今后复习查阅。\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e1. 三元表达式\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e但是，不要过度使用它。它会使你的代码更加冗长。明智的做法是仅用此替换简单的表达式以提高可读性并减少代码行数。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003econst age = 12;\r\nlet ageGroup;\r\n\r\n// LONG FORM\r\nif (age \u003e 18) {\r\n  ageGroup = 'An adult';\r\n} else {\r\n  ageGroup = 'A child';\r\n}\r\n\r\n// SHORTHAND\r\nageGroup = age \u003e 18 ? 'An adult' : 'A child';\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e2. 空值合并\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e空值合并运算符（??）是一个逻辑运算符，当左侧的操作数为 null 或者 undefined 时，返回其右侧操作数，否则返回左侧操作数。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003elet something;\r\n\r\n// LONG FORM\r\nif (something) {\r\n  console.log(something);\r\n} else {\r\n  console.log('Nothing found');\r\n}\r\n\r\n// SHORTHAND\r\nconsole.log(something ?? 'Nothing found');\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e3.数组去重\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003econst uniqueArray = (array) =\u003e [...new Set(array)];\r\nuniqueArray([1,1,2,2,3,3]); // [1,2,3]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e4. 将任何值转换为布尔值\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e!!true    // true\r\n!!2       // true\r\n!![]      // ture\r\n!!\"Test\"  // true\r\n\r\n!!false   // false\r\n!!0       // false\r\n!!''      // false\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e5. 扩展运算符\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// 组合数组\r\nconst nums1 = [1, 2, 3];\r\nconst nums2 = [4, 5, 6];\r\n// LONG FORM\r\nlet newArray = nums1.concat(nums2);\r\n// SHORTHAND\r\nnewArray = [...nums1, ...nums2];\r\n\r\n// 推送数组\r\nlet numbers = [1, 2, 3];\r\n// LONG FORM\r\nnumbers.push(4);\r\n// SHORTHAND\r\nnumbers = [...numbers, 4, 5];\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e6. 返回当前访问的URL地址\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003econst currentURL = () =\u003e window.location.href;\r\ncurrentURL(); // 'https://www.baidu.com/'\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e7. 生成随机数\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003econst random = (min, max) =\u003e Math.floor(Math.random() * (max - min)) + min;\r\n\r\nrandom(10, 14); // [10, 11, 12, 13]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e此随机函数包括下限，但不包括上限。\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e8. 生成指定范围的number数组\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003econst range = (start, end, step = 1) =\u003e {\r\n  let output = [];\r\n\r\n  if (end === undefined) {\r\n    end = start;\r\n    start = 0;\r\n  }\r\n\r\n  for (let i = start; i \u0026#x3C; end; i += step) {\r\n    output.push(i);\r\n  }\r\n  return output;\r\n}\r\n\r\nrange(5); // [0, 1, 2, 3, 4]\r\n\r\nrange(5, 10); // [5, 6, 7, 8, 9]\r\n\r\nrange(0, 6, 2); // [0, 2, 4]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e9. 函数防抖\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003econst debounce = (callback, wait) =\u003e {\r\n  let timeoutId = null;\r\n\r\n  return (...args) =\u003e {\r\n    window.clearTimeout(timeoutId);\r\n\r\n    timeoutId = window.setTimeout(() =\u003e {\r\n      callback.apply(null. args);\r\n    }, wait);\r\n  };\r\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode\u003e// 示例\r\nconst handleMouseMove = debouce((ev) =\u003e {\r\n  // Do stuff with the event!\r\n}, 250);\r\n\r\nwindow.addEventListener('mousemove', handleMouseMove);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e在此示例中，在用户开始移动鼠标，然后停止移动鼠标至少 250 毫秒之前，不会发生任何操作。\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e10. 函数节流\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003econst throttle = (callback, wait) =\u003e {\r\n  let timeoutId = null;\r\n\r\n  return (...arg) =\u003e {\r\n    if (!timeoutId) {\r\n      timeoutId = setTimeout(() =\u003e {\r\n        timeoutId = null;\r\n        callback.apply(null, arg);\r\n      })\r\n    }\r\n  }\r\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode\u003e// 示例\r\nconst handleOnScroll = throttle((ev) =\u003e {\r\n  // Do stuff with the event!\r\n}, 250);\r\n\r\nwindow.addEventListener('onScroll', handleOnScroll);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e在此示例中，在用户开始滚动滑轮，然后间隔250 毫秒执行一次操作。\u003c/p\u003e\n\u003cp\u003e以上就是本文的全部内容，感谢阅读。\u003c/p\u003e\n","title":"常用的JavaScript代码片段","date":"2023-02-24"}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"常用的JavaScript代码片段"},"buildId":"cnuqpYPwgoG4aFyLpNam3","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>